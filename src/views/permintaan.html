<html>
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>IPL Software</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="plugins/font-awesome/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
        <link rel="stylesheet" href="dist/css/adminlte.min.css">
        <link rel="stylesheet" href="plugins/iCheck/flat/blue.css">
        <link rel="stylesheet" href="plugins/morris/morris.css">
        <link rel="stylesheet" href="plugins/jvectormap/jquery-jvectormap-1.2.2.css">
        <link rel="stylesheet" href="plugins/datepicker/datepicker3.css">
        <link rel="stylesheet" href="plugins/daterangepicker/daterangepicker-bs3.css">
        <link rel="stylesheet" href="plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css">
        <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">
        <link rel="stylesheet" href="plugins/datatables/dataTables.bootstrap4.css">
        <link rel="stylesheet" href="../assets/css/style.css">
        
        
        <script src="plugins/jquery/jquery.min.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
        <script>
        $.widget.bridge('uibutton', $.ui.button)
        </script>
        <script src="plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
        <script src="plugins/morris/morris.min.js"></script>
        <script src="plugins/sparkline/jquery.sparkline.min.js"></script>
        <script src="plugins/jvectormap/jquery-jvectormap-1.2.2.min.js"></script>
        <script src="plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
        <script src="plugins/knob/jquery.knob.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.2/moment.min.js"></script>
        <script src="plugins/daterangepicker/daterangepicker.js"></script>
        <script src="plugins/datepicker/bootstrap-datepicker.js"></script>
        <script src="plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js"></script>
        <script src="plugins/slimScroll/jquery.slimscroll.min.js"></script>
        <script src="plugins/fastclick/fastclick.js"></script>
        <script src="dist/js/adminlte.js"></script>
        <script src="dist/js/pages/dashboard.js"></script>
        <script src="dist/js/demo.js"></script>
        <script src="plugins/datatables/jquery.dataTables.js"></script>
        <script src="plugins/datatables/dataTables.bootstrap4.js"></script>
        
    </head>
    <body class="hold-transition sidebar-mini">
        <div class="wrapper">
            <nav class="main-header navbar navbar-expand bg-white navbar-light border-bottom">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" data-widget="pushmenu" href="#"><i class="fa fa-bars"></i></a>
                        </li>
                </ul>
            </nav>
    
            <aside class="main-sidebar sidebar-dark-primary elevation-4">
                <a href="/" class="brand-link">
                  <img src="dist/img/AdminLTELogo.png" alt="AdminLTE Logo" class="brand-image img-circle elevation-3"
                       style="opacity: .8">
                  <span class="brand-text font-weight-light">Admin IPL</span>
                </a>
            
            
                <div class="sidebar">
                    <nav class="mt-2">
                        <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                
                        <li class="nav-item">
                                <a href="permintaan" class="nav-link">
                                    <i class="nav-icon fa fa-sticky-note-o"></i>
                                    <p>
                                    Surat Permintaan
                                    <i class="right fa fa-angle-left"></i>
                                    </p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="perintah_kerja" class="nav-link">
                                    <i class="nav-icon fa fa-sticky-note-o"></i>
                                    <p>
                                    Surat Perintah Kerja
                                    <i class="right fa fa-angle-left"></i>
                                    </p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="logout" class="nav-link">
                                    <i class="nav-icon fa fa-sign-out"></i>
                                    <p>
                                    Logout
                                    <i class="right fa fa-angle-left"></i>
                                    </p>
                                </a>
                            </li>
                
                        </ul>
                    </nav>
                </div>
            </aside>
            
            <div class="content-wrapper">
                </br>
            
                <section class="content">
                    <div class="container-fluid">
                      <div class="row">

        <div class="col-12">
                <div class="card">
                    <button class="btn btn-success" onClick="tambah_modal()">Tambah Surat</button>
                </div>
              <div class="card">
                <div class="card-header">
                  <h3 class="card-title">Permintaan</h3>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                      <table id="table-pengguna" class="table table-sm table-striped">
                        <thead class="bg-warning">
                        <tr>
                            <th>No</th>
                            <th>Tanggal</th>
                            <th>Peminta</th>
                            <th>Nama barang</th>
                            <th>Banyaknya</th>
                            <th>Dengan huruf</th>
                            <th>Keterangan</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    1
                                </td>
                                <td>
                                    2018-07-02
                                </td>
                                <td>
                                    Bpk. Masrul
                                </td>
                                <td>
                                    Sepatu
                                </td>
                                <td>
                                    2
                                </td>
                                <td>
                                    dua buah
                                </td>
                                <td>
                                    dipinjam
                                </td>
                                <td>
                                    masih terpinjam
                                </td>
                                <td>
                                <button class="btn btn-danger" onClick="ubah_modal()"><i class="left fa fa-pencil" style="cursor : pointer" ></i><span style="cursor : pointer" onClick="ubah_modal()"> Edit</span></button>
                            </td>
                            </tr>
                        </tbody>
                      </table>
                    </div>
                </div>
                <!-- /.card-body -->
              </div>
              
            <div id="ubah_modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Ubah Surat</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label class="control-label col-sm-2" style="display: inline">No
                                <span style="text-align: right">:</span>
                            </label>
                            <div class="col-sm-8 form-ubah" style="display: inline-block;margin-left:16%">
                                <input class="form-control" id="no_tambah">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-2" style="display: inline">Nama Barang :</label>
                            <div class="col-sm-8 form-ubah" style="display: inline-block">
                                <input class="form-control" id="nama_barang_tambah">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-2" style="display: inline">Banyaknya :</label>
                            <div class="col-sm-8 form-ubah" style="display: inline-block;margin-left:4%">
                                <input class="form-control" id="banyaknya_tambah">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-2" style="display: inline">Dengan Huruf :</label>
                            <div class="col-sm-8 form-ubah" style="display: inline-block">
                                <input class="form-control" id="dengan_huruf_tambah">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-2" style="display: inline">Keterangan :</label>
                            <div class="col-sm-8 form-ubah" style="display: inline-block;margin-left:3%">
                                <input class="form-control" id="keterangan_tambah">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-2" style="display: inline">Status :</label>
                            <div class="col-sm-8 form-ubah" style="display: inline-block;margin-left:11%">
                                <!-- <input class="form-control" id="status_tambah"> -->
                                <select id="status_tambah">
                                    <option value="Diterima" class="btn">Diterima</option>
                                    <option value="Dikerjakan" class="btn">Dikerjakan</option>
                                    <option value="Selesai" class="btn">Selesai</option>
                                    <!-- <option value="audi">Audi</option> -->
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" id="button_save_ubah">Save changes</button>
                    </div>
                </div>
              </div>
            </div>
    
            <div id="tambah_modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title">Tambah Surat</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                      <div class="form-group">
                        <label class="control-label col-sm-2" style="display: inline">No <span style="text-align: right">:</span> </label>
                        <div class="col-sm-8 form-ubah" style="display: inline-block;margin-left:16%">
                            <input class="form-control" id="no_tambah">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-2" style="display: inline">Nama Barang :</label>
                        <div class="col-sm-8 form-ubah" style="display: inline-block"> 
                            <input class="form-control" id="nama_barang_tambah">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-2" style="display: inline">Banyaknya :</label>
                        <div class="col-sm-8 form-ubah" style="display: inline-block;margin-left:4%"> 
                            <input class="form-control" id="banyaknya_tambah">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-2" style="display: inline">Dengan Huruf :</label>
                        <div class="col-sm-8 form-ubah" style="display: inline-block"> 
                            <input class="form-control" id="dengan_huruf_tambah">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-2" style="display: inline">Keterangan :</label>
                        <div class="col-sm-8 form-ubah" style="display: inline-block;margin-left:3%"> 
                            <input class="form-control" id="keterangan_tambah">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-2" style="display: inline">Status :</label>
                        <div class="col-sm-8 form-ubah" style="display: inline-block;margin-left:11%"> 
                            <!-- <input class="form-control" id="status_tambah"> -->
                            <select id="status_tambah">
                                <option value="Diterima" class="btn">Diterima</option>
                                <option value="Dikerjakan"  class="btn">Dikerjakan</option>
                                <option value="Selesai"  class="btn">Selesai</option>
                                <!-- <option value="audi">Audi</option> -->
                            </select>
                        </div>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="button_save_ubah">Save changes</button>
                  </div>
                </div>
              </div>
            </div>
            
            <div id="detail_modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title">Ubah</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <div class="form-group">
                    <label class="col-sm-2 col-form-label col-form-label-sm">Id Pengguna</label>
                    <div class="col-sm-10">
                            <input class="form-control form-control-sm" id="id_pengguna_detail">
                        </div>
                    </div>
                    <div class="form-group">
                    <label class="col-sm-2 col-form-label col-form-label-sm">Tipe</label>
                    <div class="col-sm-10">
                            <input class="form-control form-control-sm" id="tipe_detail">
                        </div>
                    </div>
                    <div class="form-group">
                    <label class="col-sm-2 col-form-label col-form-label-sm">Nama</label>
                        <div class="col-sm-10"> 
                            <input class="form-control form-control-sm" id="nama_detail">
                        </div>
                    </div>
                    <div class="form-group">
                    <label class="col-sm-2 col-form-label col-form-label-sm">Jenis Kelamin</label>
                        <div class="col-sm-10"> 
                            <input class="form-control form-control-sm" id="jenis_kelamin_detail">
                        </div>
                    </div>
                    <div class="form-group">
                    <label class="col-sm-2 col-form-label col-form-label-sm">Tanggal Lahir</label>
                        <div class="col-sm-10"> 
                            <input class="form-control form-control-sm" id="tanggal_lahir_detail">
                        </div>
                    </div>
                    <div class="form-group">
                    <label class="col-sm-2 col-form-label col-form-label-sm">Email</label>
                        <div class="col-sm-10"> 
                            <input class="form-control form-control-sm" id="email_detail">
                        </div>
                    </div>
                    <div class="form-group">
                    <label class="col-sm-2 col-form-label col-form-label-sm">Nomor Telepon</label>
                        <div class="col-sm-10"> 
                            <input class="form-control form-control-sm" id="nomor_telepon_detail">
                        </div>
                    </div>
                    <div class="form-group">
                    <label class="col-sm-2 col-form-label col-form-label-sm">Buat Pada</label>
                        <div class="col-sm-10"> 
                            <input class="form-control form-control-sm" id="buat_pada_detail">
                        </div>
                    </div>
                    <div class="form-group">
                    <label class="col-sm-2 col-form-label col-form-label-sm">Ubah Pada</label>
                        <div class="col-sm-10"> 
                            <input class="form-control form-control-sm" id="ubah_pada_detail">
                        </div>
                    </div>
                    <div class="form-group">
                    <label class="col-sm-2 col-form-label col-form-label-sm">Hapus Pada</label>
                        <div class="col-sm-10"> 
                            <input class="form-control form-control-sm" id="hapus_pada_detail">
                        </div>
                    </div>  
                  </div>
                </div>
              </div>
            </div>
            
            <div id="notif_modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                  <div class="modal-body">
                  </div>
                </div>
              </div>
            </div>
              
            <script type="text/javascript">
                var table;
                
                $(document).ready(
                    function(){
                        table = $('#table-pengguna').DataTable(
                            {
                                'columnDefs': [
                                {
                                    'targets': [ -1 ],
                                    'orderable': false,
                                } 
                            ]
                            }
                        );
                    }
                );
                
                
                function ubah_modal(id_pengguna){
                    $('#ubah_modal').modal('show');
                }
                
                function tambah_modal(id_pengguna){
                    $('#tambah_modal').modal('show');
                }
                
                /*
                function ubah_process(id_pengguna){
                    $.ajax({
                        url : "<?php echo base_url()?>index.php/pengguna/ubah_dengan_id",
                        header : {
                            "Content-type" : "applocation/application/x-www-form-urlencoded"
                        },
                        type : "put",
                        dataType : "json",
                        data : {
                            "id_pengguna" : id_pengguna,
                            "tipe" : $('#tipe_ubah').val(),
                            "nama" : $('#nama_ubah').val(),
                            "jenis_kelamin" : $('#jenis_kelamin_ubah').val(),
                            "tanggal_lahir" : $('#tanggal_lahir_ubah').val(),
                            "email" : $('#email_ubah').val()
                        },
                        success : function(response){
                            $('#ubah_modal').modal('hide');
                            $('#notif_modal').modal('show');
                            if(!response.status){
                                $("#notif_modal div div div").html('gagal ubah');
                            }else{
                                $("#notif_modal div div div").html('sukses ubah');
                            }
                            setTimeout(function(){
                                $('#notif_modal').modal('hide');
                            }, 1000);
                            
                            reload_table();
                        },
                        error : function(){
                            $("#notif_modal div div div").html('sukses hapus');
                            setTimeout(function(){
                                $('#notif_modal').modal('hide');
                            }, 1000);
                        }
                    });
                }
    
                function detail_modal(id_pengguna){
                    $('#detail_modal').modal('show');
                    $.ajax({
                        url : "<?php echo base_url()?>index.php/pengguna/ambil_semua_dengan_id",
                        header : {
                            "Content-type" : "applocation/application/x-www-form-urlencoded"
                        },
                        type : "get",
                        dataType : "json",
                        data : {
                            "id_pengguna" : id_pengguna  
                        },
                        success : function(response){
                            $('#id_pengguna_detail').val(response.id_pengguna);
                            $('#tipe_detail').val(response.tipe);
                            $('#nama_detail').val(response.nama);
                            $('#jenis_kelamin_detail').val(response.jenis_kelamin);
                            $('#tanggal_lahir_detail').val(response.tanggal_lahir);
                            $('#email_detail').val(response.email);
                            $('#path_gambar_detail').val(response.email);
                            $('#buat_pada_detail').val(response.buat_pada);
                            $('#ubah_pada_detail').val(response.ubah_pada);
                            $('#hapus_pada_detail').val(response.hapus_pada);
                            
                            reload_table();
                        },
                        error : function(){
                            setTimeout(function(){
                                $('#notif_modal').modal('hide');
                            }, 1000);
                        }
                    });
                }
                
                function hapus_process(id_pengguna){
                    $.ajax({
                        url : "<?php echo base_url()?>index.php/pengguna/hapus_dengan_id/"+id_pengguna,
                        header : {
                            "Content-type" : "applocation/application/x-www-form-urlencoded"
                        },
                        type : "delete",
                        dataType : "json",
                        data : {
                            'id_pengguna' : id_pengguna  
                        },
                        success : function(response){
                            $('#hapus_modal').modal('hide');
                            $('#notif_modal').modal('show');
                            if(!response.status){
                                $("#notif_modal div div div").html('gagal hapus');
                            }else{
                                $("#notif_modal div div div").html('sukses hapus');
                            }
                            setTimeout(function(){
                                $('#notif_modal').modal('hide');
                            }, 1000);
                            
                            reload_table();
                        },
                        error : function(){
                            $("#notif_modal div div div").html('sukses hapus');
                            setTimeout(function(){
                                $('#notif_modal').modal('hide');
                            }, 1000);
                        }
                    });
                }
                */

                
                
                
                function reload_table(){
                    table.ajax.reload(null,false);
                }
            </script>


                        </div>
                    </div>
                </section>
            </div>
        
            <footer class="main-footer">
                <strong>Copyright &copy; 2018 - forever <a href="/">masakin.co.id</a>.</strong>
                All rights reserved.
                <div class="float-right d-none d-sm-inline-block">
                <b>Ver</b> 1.0.0-alpha
                </div>
            </footer>
        
            <aside class="control-sidebar control-sidebar-dark">
            </aside>
        </div>
    
    </body>
</html>
            